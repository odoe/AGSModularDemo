(function(){define(["dojo/_base/declare","dojo/Evented","dojo/query","dijit/MenuBar","dijit/Menu","dijit/PopupMenuBarItem","dijit/CheckedMenuItem"],function(a,b,c,d,e,f,g){var h=a([b],{_checkeditems:[],startup:function(a){var b=new d({}),h=new e({}),i=this,j=function(b){var c=new g({label:b.title,base:b.id,checked:a.basemaps[a.basemaps.length-1].id===b.id,onChange:function(c){c&&a.select(b.id);var d=i._checkeditems.length;while(d--){var e=i._checkeditems[d];e.set("checked",e.base===b.id)}}});i._checkeditems[i._checkeditems.length]=c,h.addChild(c)};for(var k=0,l=a.basemaps.length;k<l;k++)j(a.basemaps[k]);b.addChild(new f({label:'<span class="icon-th-large icon-white"></span> Basemaps',popup:h}));try{b.placeAt(c(".base-menu")[0]),b.startup(),this.emit("loaded")}catch(m){console.log("error in placing basemap menu widget",m)}return this}});return h})}).call(this)